(this["webpackJsonpskylight-v2"]=this["webpackJsonpskylight-v2"]||[]).push([[0],{18:function(e,t,a){e.exports=a(43)},23:function(e,t,a){},24:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),o=a.n(r),l=(a(23),a(24),a(25),a(15)),i=a(2),c=a(3),u=a(17),m=a(16),p=a(14),f=a.n(p).a.create({baseURL:"https://skylight-react-interview-project.s3.amazonaws.com",headers:{"Content-type":"application/json"}}),d=new(function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"upload",value:function(e,t){var a=new FormData;return a.append("file",e),f.put("/".concat(e.name),a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return f.get("/")}}]),e}()),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).selectFiles=function(t){e.setState({progressInfos:[],selectedFiles:t.target.files})},e.upload=function(t,a){var n=Object(l.a)(e.state.progressInfos);d.upload(a,(function(a){n[t].percentage=Math.round(100*a.loaded/a.total),e.setState({_progressInfos:n})})).then((function(t){return e.setState((function(e){return{message:(e.message?e.message+"\n":"")+t.data.message}})),d.getFiles()})).then((function(t){e.setState({fileInfos:t.data})})).catch((function(){n[t].percentage=0,e.setState({progressInfos:n,message:"Could not upload the file!"})}))},e.uploadFiles=function(){for(var t=e.state.selectedFiles,a=[],n=0;n<t.length;n++)a.push({percentage:0,fileName:t[n].name});e.setState({progressInfos:a,message:null},(function(){for(var a=0;a<t.length;a++)e.upload(a,t[a])}))},e.state={selectedFiles:void 0,progressInfos:[],message:null,fileInfos:[]},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.selectedFiles,a=e.progressInfos;e.message,e.fileInfos;return s.a.createElement("div",null,a&&a.map((function(e,t){return s.a.createElement("div",{className:"mb-2"},s.a.createElement("span",null,e.fileName),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.percentage+"%"}},e.percentage,"%")))})),s.a.createElement("label",{className:"btn btn-default"},s.a.createElement("input",{type:"file",multiple:!0,onChange:this.selectFiles})),s.a.createElement("button",{className:"btn btn-success",disabled:!t,onClick:this.uploadFiles},"Upload"))}}]),a}(n.Component);var h=function(){return s.a.createElement("div",{className:"container",style:{width:"600px"}},s.a.createElement("div",{className:"my-2"},s.a.createElement("h4",null,"Upload multiple Files")),s.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.7b69b345.chunk.js.map